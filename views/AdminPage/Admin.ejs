<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Rental Admin</title>
    <link rel="stylesheet" href="/css/Admin.css">
</head>

<body>
    <div class="dashboard">
        <!-- Side Navigation -->
        <nav class="side-nav">
            <h2 class="logo">Admin Dashboard</h2>
            <ul class="nav-links">
                <li><a href="#bookings" class="active">Bookings</a></li>
                <li><a href="#cars">Cars</a></li>
                <li><a href="#users">Users</a></li>
                <li><a href="#reports">Reports</a></li>
            </ul>
            <a href="../LoginPage/login.html" class="logout" id="logout">Logout</a>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header>
                <h1>CarRental Dashboard</h1>
                <div class="admin-profile">
                    <span id="adminName"></span>
                    <div class="avatar" id="adminAvatar"></div>
                </div>
            </header>

            <!-- Bookings Section -->
            <section id="bookings" class="content-section">
                <h2>Manage Bookings</h2>
                <div class="card">
                    <table id="bookings-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>User</th>
                                <th>Car</th>
                                <th>Dates</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Bookings will load here with edit button -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Cars Section -->
            <section id="cars" class="content-section hidden">
                <h2>Manage Cars</h2>
                <div class="card">
                    <form id="car-form" enctype="multipart/form-data">
                        <input type="hidden" id="car-id" value="">

                        <div class="form-row">
                            <% var car_brands_list = ["Abarth", "Acura", "Alfa Romeo", "Aston Martin", "Audi", "Bentley", "BMW", "Bugatti", "Buick", "Cadillac", "Chevrolet", "Chrysler", "CitroÃ«n", "Dacia", "Daewoo", "Daihatsu", "Dodge", "Ferrari", "Fiat", "Ford", "Genesis", "GMC", "Honda", "Hyundai", "Infiniti", "Jaguar", "Jeep", "Kia", "Koenigsegg", "Lamborghini", "Lancia", "Land Rover", "Lexus", "Lincoln", "Lotus", "Maserati", "Mazda", "McLaren", "Mercedes-Benz", "MG", "Mini", "Mitsubishi", "Nissan", "Opel", "Pagani", "Peugeot", "Polestar", "Porsche", "Ram", "Renault", "Rolls-Royce", "Saab", "Seat", "Skoda", "Smart", "Subaru", "Suzuki", "Tesla", "Toyota", "Vauxhall", "Volkswagen", "Volvo"]; %>
                                <select id="car-brand" placeholder="Brand" required>
                                <option value="">Select Brand</option>
                                <% car_brands_list.forEach(element => { %>
                                <option ><%= element %></option> 
                                <% }) %>
                            </select>
                            <input type="text" id="car-model" placeholder="Model" required>
                        </div>

                        <div class="form-row">
                            <select id="car-type" required>
                                <option value="">Select Type</option>
                                <option value="SUV">SUV</option>
                                <option value="Sedan">Sedan</option>
                                <option value="Hatchback">Hatchback</option>
                                <option value="Truck">Truck</option>
                            </select>

                            <select id="car-location" placeholder="Location" required>
                                <option value="">Select Branch</option>
                                <option value="Cairo">Cairo</option>
                                <option value="Alex">Alex</option>
                                <option value="Mansoura">Mansoura</option>
                                <option value="Aswan">Aswan</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <input type="number" id="car-price" placeholder="Daily Price" required>
                            <select id="car-status" required>
                                <option value="">Availability</option>
                                <option value="true">Available</option>
                                <option value="false">Unavailable</option>
                            </select>
                        </div>

                        <div class="form-row">
                            <input type="number" id="car-seats" placeholder="Seats" required>
                            <select id="car-fuel" placeholder="Fuel Type (e.g., Petrol)" required>
                                <option value="true">Petrol</option>
                                <option value="false">Electric</option>
                            </select>
                            <select id="car-transmission" placeholder="Transmission (e.g., Automatic)"
                                required>
                                <option value="true">Automatic</option>
                                <option value="false">Manual</option>
                            </select>
                        </div>

                        <input type="file" id="car-image" name="image" accept="image/*" required>


                        <div class="form-actions">
                            <button type="button" id="save-car" class="btn primary">Save Car</button>
                            <button type="button" id="clear-form" class="btn">Clear</button>
                        </div>
                    </form>

                    <table id="cars-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Make & Model</th>
                                <th>Year</th>
                                <th>Price</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Cars will load here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Users Section -->
            <section id="users" class="content-section hidden">
                <h2>Manage Users</h2>
                <div class="card">
                    <table id="users-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>phoneNumber</th>
                                <th>age</th>
                                <th>country</th>
                                <th>Gender</th>
                                <th>Booking counts</th>
                            </tr>
                        </thead>
                        <tbody>
<<<<<<< Updated upstream
                            <% arr.forEach((element,index) => { %>
                            <tr>
                                <td>
                                    <%= index + 1 %>
                                </td>
                                <td>
                                    <%=element.firstName%> <%=element.lastName%>
                                </td>
                                <td>
                                    <%= element.email %>
                                </td>
                                <td>
                                    <%= element.phoneNumber %>
                                </td>
                                <td>
                                    <%= element.age %>
                                </td>
                                <td>
                                    <%= element.country %>
                                </td>
                                <td>
                                    <%= element.gender %>
                                </td>
                                <td>
                                    <%= element.bookings.length %>
                                </td>

                            </tr>
                                
                            <% }) %>
                            
=======

                            <tr>
                                <td>

                                </td>
                                <td>

                                </td>
                                <td>

                                </td>
                                <td>

                                </td>
                                <td>

                                </td>
                                <td>

                                </td>
                                <td>

                                </td>
                                <td>

                                </td>

                            </tr>



>>>>>>> Stashed changes
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="content-section hidden">
                <h2>Reports</h2>
                <div class="card">
                    <div class="stats-grid">
                        <div class="stat-card" data-target="bookings-details">
                            <h3>Total Bookings</h3>
                            <p id="total-bookings">0</p>
                        </div>
                        <div class="stat-card" data-target="active-rentals-details">
                            <h3>Active Rentals</h3>
                            <p id="active-rentals">0</p>
                        </div>
                        <div class="stat-card" data-target="revenue-details">
                            <h3>Total Revenue</h3>
                            <p id="total-revenue">$0</p>
                        </div>
                        <div class="stat-card" data-target="available-cars-details">
                            <h3>Available Cars</h3>
                            <p id="available-cars">0</p>
                        </div>
                    </div>

                    <!-- Report Details Tables -->
                    <div id="bookings-details" class="report-details hidden">
                        <h3>Booking Details</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Car</th>
                                    <th>User</th>
                                    <th>Dates</th>
                                    <th>Status</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody id="bookings-details-body"></tbody>
                        </table>
                    </div>

                    <div id="active-rentals-details" class="report-details hidden">
                        <h3>Active Rental Details</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Car</th>
                                    <th>User</th>
                                    <th>Dates</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody id="active-rentals-details-body"></tbody>
                        </table>
                    </div>

                    <div id="revenue-details" class="report-details hidden">
                        <h3>Revenue Details</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Car</th>
                                    <th>Bookings Count</th>
                                    <th>Total Revenue</th>
                                    <th>Daily Price</th>
                                </tr>
                            </thead>
                            <tbody id="revenue-details-body"></tbody>
                        </table>
                    </div>

                    <div id="available-cars-details" class="report-details hidden">
                        <h3>Available Cars</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Make & Model</th>
                                    <th>Year</th>
                                    <th>Daily Price</th>
                                </tr>
                            </thead>
                            <tbody id="available-cars-details-body"></tbody>
                        </table>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <script src="/js/Admin.js"></script>
</body>

</html>